DECLARE 
  I_CUST_NO NUMBER;
  I_PRODUCT_ID NUMBER;
  I_CURRENCY VARCHAR2(32767);
  I_BUY_AMOUNT NUMBER;
  O_CWDM NUMBER;
  O_CWXX VARCHAR2(32767);

  I_CNT VARCHAR2(32767);

BEGIN 
  I_CUST_NO := 72;
  I_PRODUCT_ID := 1001;
  I_CURRENCY := 'RMB';
  I_BUY_AMOUNT := 10000;
  O_CWDM := NULL;
  O_CWXX := NULL;

  I_CNT:=0;
  
  LOOP 
  
  CDMS.PRO_BUY_PRODUCT ( I_CUST_NO, I_PRODUCT_ID, I_CURRENCY, I_BUY_AMOUNT,  O_CWDM, O_CWXX );
  
  I_CNT:=I_CNT+1;
  EXIT WHEN I_CNT>=10000 or O_CWDM=-1;
  
  END LOOP;

  DBMS_OUTPUT.Put_Line('O_CWDM = ' || TO_CHAR(O_CWDM));
  DBMS_OUTPUT.Put_Line('O_CWXX = ' || O_CWXX);

  DBMS_OUTPUT.Put_Line('');

  COMMIT; 
END;